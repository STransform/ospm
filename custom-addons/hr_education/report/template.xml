<?xml version="1.0" encoding="utf-8"?>
<odoo>
<template id="education_dept_request">
        <t t-call="web.html_container">
            <t  t-foreach="docs" t-as="doc">
                <t t-call="web.external_layout">
                    <div style="padding: 20px; font-family: Arial, sans-serif; border: 1px solid #ddd;">
                    <!-- Report Header -->
                        <div style="text-align: center; margin-bottom: 20px;">
                            <h2 style="color: #2c3e50;">Education Plan Report</h2>
                            <p style="font-style: italic; color: #7f8c8d;">
                                Generated on: <span t-esc="time.strftime('%Y-%m-%d %H:%M:%S')" />
                            </p>
                        </div>
                        
                        <t t-if="doc.state == 'approved'">
                            <!-- Request Information -->
                            <div style="margin-bottom: 20px;">
                                <h3 style="color: #34495e;">Request Details</h3>
                                <p><strong>Request Name:</strong> <span t-esc="doc.name" /></p>
                                <p><strong>Department:</strong> <span t-esc="doc.department_id.name or 'N/A'" /></p>
                                <p><strong>Year:</strong> <span t-esc="doc.year or 'N/A'" /></p>
                                <p><strong>Total Employee:</strong> <span t-esc="doc.total_employee_count or 'N/A'" /></p>
                            </div>

                            <!-- Description -->
                            <div style="margin-bottom: 20px;">
                                <h3 style="color: #34495e;">Description</h3>
                                <p><span t-esc="doc.description or 'No description provided.'" /></p>
                            </div>



                            <!-- Education Programs -->
                            <div t-if="doc.education_programs">
                                <h3 style="color: #34495e;">Education Programs</h3>
                                <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                                    <thead>
                                        <tr style="background-color: #f2f2f2;">
                                            <th style="border: 1px solid #ddd; padding: 8px;">Program Name</th>
                                            <th style="border: 1px solid #ddd; padding: 8px;">Start Date</th>
                                            <th style="border: 1px solid #ddd; padding: 8px;">End Date</th>
                                            <th style="border: 1px solid #ddd; padding: 8px;">Employee Count</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <t t-foreach="doc.education_programs" t-as="program">
                                            <tr>
                                                <td style="border: 1px solid #ddd; padding: 8px;" t-esc="program.program_name" />
                                                <td style="border: 1px solid #ddd; padding: 8px;" t-esc="program.start_date or 'Unknown'" />
                                                <td style="border: 1px solid #ddd; padding: 8px;" t-esc="program.end_date or 'Unknown' " />
                                                <td style="border: 1px solid #ddd; padding: 8px;" t-esc="program.employee_count" />
                                            </tr>
                                        </t>
                                    </tbody>
                                </table>
                            </div> 
                        </t>

                        <t t-else="">
                            <div style="margin-bottom: 20px;">
                                <h3 style="color: #FF0000;">The Plan Must be approved first</h3>
                            </div>
                        </t>
                    </div>

                </t>
            </t>
        </t>
    </template>
</odoo>
